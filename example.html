<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <!-- <link rel="icon" href="%PUBLIC_URL%/favicon.ico" /> -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="Web site created using create-react-app" />
  <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
  <!-- <link rel="manifest" href="%PUBLIC_URL%/manifest.json" /> -->
  <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
  <title>React App</title>

  <!-- <script src="https://unpkg.com/react@16/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js" crossorigin></script> -->
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <button onclick="openWallet('paymeId')">Open Wallet</button>
  <button onclick="deposit('paymeId')">Deposit</button>
  <button onclick="withdraw('paymeId')">Withdraw</button>

  <!-- custom id -->
  <div id="paymeId"></div>

  <script src="payme-sdk.js"></script>
  <script type="text/javascript">
    let configs = {
      connectToken: 'qBpM18YIyB15rdpFFfJpzsUBXNkaQ9rnCAN3asLNCrmQODI5GMp+qK6rY2OgBwjcMpujvBbCLy0ZcrdPMUWcEiqCvawx39o26hDoID/CIu4ygLZK43UWdixYC5t/bhJr',
      appToken: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBJZCI6MX0.wNtHVZ-olKe7OAkgLigkTSsLVQKv_YL9fHKzX9mn9II',
      clientInfo: {
        clientId: 'deviceId',
        platform: 'WEB/IOS',
        appVersion: '1.0.1',
        sdkVesion: '1.0.1',
        sdkType: '1.0.1',
        appPackageName: 'lazada.payme.vn'
      },
      partner: {
        type: 'Web',
        paddingTop: 20,
        // paddingBottom: 10
      },
      configColor: ['#00ffff', '#ff0000']
    }

    function openWallet(id) {
      const view = new PaymeWebSdk(configs, {
        env: 'sandbox',
        id: id
      });
      view.openWallet()
      view.onMessage(id, (e) => {
        // console.log('onMessage openWallet', e.data)
      })
    }


    function withdraw(id) {
      const view = new PaymeWebSdk(configs, {
        env: 'sandbox',
        id: id
      });
      view.withdraw({
        ...configs,
        actions: {
          type: "withdraw",
          amount: 10000,
          description: ""
        }
      })
      view.onMessage(id, (e) => {
        // console.log('onMessage Deposit', e.data)
      })
    }

    function deposit(id) {
      const view = new PaymeWebSdk(configs, {
        env: 'sandbox',
        id: id
      });
      view.deposit({
        ...configs,
        actions: {
          type: "deposit",
          amount: 10000,
          description: ""
        }
      })
      view.onMessage(id, (e) => {
        // console.log('onMessage Withdraw', e.data)
      })
    }
  </script>

</body>

</html>